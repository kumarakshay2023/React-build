"use strict";(self.webpackChunkdellace=self.webpackChunkdellace||[]).push([[6454],{36454:function(e,a,n){n.r(a),n.d(a,{default:function(){return b}});var t=n(1413),r=n(74165),i=n(15861),s=n(29439),d=n(72791),o=n(9140),l=n(57689),c=n(59730),u=n(5439),m=n(39599),f=n(22339),v=n(43953),p=n(8007);var x=n(80184);var h=function(e){var a=e.onSubmit,n=e.loading,r=e.formData,i={image:(null===r||void 0===r?void 0:r.image)||"",name:(null===r||void 0===r?void 0:r.name)||"",sortOrder:1,startDate:"01/01/2000",endDate:"01/01/2000",developmentFrameWork:"string",clickActionType:"string",navigationType:"string",sectionName:"string"};return(0,x.jsx)(f.J9,{initialValues:(0,t.Z)({},i),validationSchema:p.Ry().shape({name:p.Z_().required("Brand name is required"),image:p.Z_().required("Brand image is required")}),onSubmit:a,enableReinitialize:!0,children:function(e){return(0,x.jsxs)(f.l0,{children:[(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{className:"form-label",children:"Banner Title"}),(0,x.jsx)("div",{className:"form-control-wrap",children:(0,x.jsx)(c.II,{id:"name",className:"form-control",name:"name",disabled:!1,variant:"standard",type:"text",placeholder:"Enter title",setFieldValue:e.handleChange})})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{className:"form-label",children:"Banner Image"}),(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)("div",{className:"upload_photo mb-2 mb-md-3 mx-auto text-center",children:(0,x.jsx)("div",{className:"img-box",children:(0,x.jsx)(c.jM,{name:"image",apiEndPoints:v.pU.profileImage,type:"file",defaultImageUrl:null===r||void 0===r?void 0:r.image,setFieldValue:e.handleChange})})})})]}),(0,x.jsx)("div",{className:"form-group text-center",children:(0,x.jsx)(c.Jr,{htmlType:"submit",type:"submit",loading:n,extraClassName:"btn btn-primary ripple-effect",children:null!==r&&void 0!==r&&r.id?"Update Banner":"Add Banner"})})]})}})};var b=function(){var e=(0,l.TH)(),a=e.search,n=(0,d.useState)([]),f=(0,s.Z)(n,2),v=f[0],p=f[1],b=(0,d.useState)({}),g=(0,s.Z)(b,2),Z=g[0],j=g[1],y=(0,d.useState)(1),N=(0,s.Z)(y,2),B=N[0],k=N[1],S=(0,d.useState)(10),C=(0,s.Z)(S,2),w=C[0],P=C[1],T=(0,d.useState)(""),F=(0,s.Z)(T,2),E=F[0],I=F[1],H=(0,d.useState)([{dataField:"",order:""}]),A=(0,s.Z)(H,2),R=A[0],D=A[1],U=(0,d.useState)(!1),q=(0,s.Z)(U,2),z=q[0],L=q[1],M=(0,d.useState)(),O=(0,s.Z)(M,2),V=O[0],_=O[1],J=(0,d.useState)(0),G=(0,s.Z)(J,2),Q=G[0],W=G[1],Y=(0,d.useState)(!1),K=(0,s.Z)(Y,2),X=K[0],$=K[1],ee=(0,d.useState)(""),ae=(0,s.Z)(ee,2),ne=ae[0],te=ae[1],re=(0,d.useState)(!1),ie=(0,s.Z)(re,2),se=ie[0],de=ie[1];(0,d.useEffect)((function(){if(a){var e,n=(0,u.U)(a);if(j(n),k(null!==(e=null===n||void 0===n?void 0:n.page)&&void 0!==e?e:1),null!==n&&void 0!==n&&n.sortType){var t=[{order:(0,u.Mq)(null===n||void 0===n?void 0:n.sortType),dataField:null===n||void 0===n?void 0:n.sortBy}];D(t)}else D({dataField:"",order:""})}}),[e]);var oe=function(e){$(!0),te(e)},le=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var a,n,t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,a={offset:(B-1)*w,limit:w,sortBy:null===Z||void 0===Z?void 0:Z.sortBy,sortType:null===Z||void 0===Z?void 0:Z.sortType,name:E},e.next=5,m.np.getBannerList(a);case 5:n=e.sent,t=n.success,i=n.data,t&&(p(i.rows),_(i.count>0?Math.ceil(i.count/w):1),W(i.count)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,u.kg)(e.t0);case 13:L(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),ce=[{dataField:"name",text:"Title",formatter:function(e){return(0,u.rx)(e)}},{dataField:"thumbnailUrl",text:"Banner Image",formatter:function(e,a){return null!==a&&void 0!==a&&a.thumbnailUrl?(0,c.AG)(e):"-"}},{dataField:"BrandBanner",text:"Brand Banner",formatter:function(e){return(0,u.rx)(e)}},{dataField:"action",text:"Action",headerClasses:"d-flex justify-content-end",formatter:function(e,a){return(0,c.Lg)(function(e){return[{name:"Edit",icon:"icon ni ni-pen",path:"#addForm",action:"confirm",onClickHandle:function(){oe(e)}}]}(a))}}],ue=function(){L(!0),p([]),_(0),W(0)},me=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de(!0),e.prev=1,n=(0,t.Z)({},a),!ne){e.next=9;break}return e.next=6,null===m.np||void 0===m.np?void 0:m.np.updateBanner(null===ne||void 0===ne?void 0:ne.id,n);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,null===m.np||void 0===m.np?void 0:m.np.addBanner(n);case 11:e.t0=e.sent;case 12:null!==(i=e.t0)&&void 0!==i&&i.success&&((0,u.iM)({type:"success",message:null===i||void 0===i?void 0:i.message}),$(!1),te(""),ue(),le()),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),(0,u.kg)(e.t1);case 19:de(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(a){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){le()}),[Z]),(0,x.jsxs)("div",{className:"nk-block-head nk-block-head-sm",children:[(0,x.jsxs)("div",{className:"nk-block-between",children:[(0,x.jsx)(o.Z,{className:"w-100 rounded-2 mb-4",children:(0,x.jsx)(o.Z.Body,{children:(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsx)(c.mr,{heading:"Banners"}),(0,x.jsx)(c.hY,{btnText:"Add Banner",onHandleShow:function(e){e.preventDefault(),oe()},btnArray:["create"]})]})})}),(0,x.jsx)(c.zS,{onHandleCancel:function(){$(!1),te("")},show:X,title:null!==ne&&void 0!==ne&&ne.id?"Edit Banner":"Add Banner",children:(0,x.jsx)(h,{formData:ne,onSubmit:me,loading:se})})]}),(0,x.jsx)(c.wQ,{sizePerPagination:!1,hasLimit:!0,noOfPage:V,sizePerPage:w,page:B,count:Q,tableData:v,tableColumns:ce,defaultSort:R,tableLoader:z,setSizePerPage:P,tableReset:ue,getSearchValue:function(e){I(e),e&&ue()},searchPlaceholder:"Brand Name"})]})}},9140:function(e,a,n){n.d(a,{Z:function(){return T}});var t=n(1413),r=n(45987),i=n(81694),s=n.n(i),d=n(72791),o=n(10162),l=n(66543),c=n(27472),u=n(80184),m=["bsPrefix","className","variant","as"],f=d.forwardRef((function(e,a){var n=e.bsPrefix,i=e.className,d=e.variant,l=e.as,c=void 0===l?"img":l,f=(0,r.Z)(e,m),v=(0,o.vE)(n,"card-img");return(0,u.jsx)(c,(0,t.Z)({ref:a,className:s()(d?"".concat(v,"-").concat(d):v,i)},f))}));f.displayName="CardImg";var v=f,p=n(96040),x=["bsPrefix","className","as"],h=d.forwardRef((function(e,a){var n=e.bsPrefix,i=e.className,l=e.as,c=void 0===l?"div":l,m=(0,r.Z)(e,x),f=(0,o.vE)(n,"card-header"),v=(0,d.useMemo)((function(){return{cardHeaderBsPrefix:f}}),[f]);return(0,u.jsx)(p.Z.Provider,{value:v,children:(0,u.jsx)(c,(0,t.Z)((0,t.Z)({ref:a},m),{},{className:s()(i,f)}))})}));h.displayName="CardHeader";var b=h,g=["bsPrefix","className","bg","text","border","body","children","as"],Z=(0,c.Z)("h5"),j=(0,c.Z)("h6"),y=(0,l.Z)("card-body"),N=(0,l.Z)("card-title",{Component:Z}),B=(0,l.Z)("card-subtitle",{Component:j}),k=(0,l.Z)("card-link",{Component:"a"}),S=(0,l.Z)("card-text",{Component:"p"}),C=(0,l.Z)("card-footer"),w=(0,l.Z)("card-img-overlay"),P=d.forwardRef((function(e,a){var n=e.bsPrefix,i=e.className,d=e.bg,l=e.text,c=e.border,m=e.body,f=e.children,v=e.as,p=void 0===v?"div":v,x=(0,r.Z)(e,g),h=(0,o.vE)(n,"card");return(0,u.jsx)(p,(0,t.Z)((0,t.Z)({ref:a},x),{},{className:s()(i,h,d&&"bg-".concat(d),l&&"text-".concat(l),c&&"border-".concat(c)),children:m?(0,u.jsx)(y,{children:f}):f}))}));P.displayName="Card",P.defaultProps={body:!1};var T=Object.assign(P,{Img:v,Title:N,Subtitle:B,Body:y,Link:k,Text:S,Header:b,Footer:C,ImgOverlay:w})},96040:function(e,a,n){var t=n(72791).createContext(null);t.displayName="CardHeaderContext",a.Z=t},27472:function(e,a,n){var t=n(1413),r=n(72791),i=n(81694),s=n.n(i),d=n(80184);a.Z=function(e){return r.forwardRef((function(a,n){return(0,d.jsx)("div",(0,t.Z)((0,t.Z)({},a),{},{ref:n,className:s()(a.className,e)}))}))}}}]);
//# sourceMappingURL=6454.0509cb13.chunk.js.map